import{S as M,i as R,s as H,I as T,J as z,e as G,t as j,k as y,aR as D,c as E,a as S,h as I,m as C,d as p,aS as O,b as h,g as L,G as w,j as J,w as N,aM as P,x as U,y as V,O as Y,q as F,o as K,B as Q,P as W,u as X}from"../../chunks/vendor-2ea78382.js";import{G as Z}from"../../chunks/GuideContents-598f36c6.js";function q(l,n,i){const d=l.slice();return d[10]=n[i],d}function B(l){let n,i,d=l[10].metadata.title+"",r,f,m,o,u,_,k,v,g=l[10].html+"",t,e;return{c(){n=G("section"),i=G("h2"),r=j(d),f=y(),m=G("small"),o=G("a"),u=j("edit this section"),k=y(),v=new D,t=y(),this.h()},l(a){n=E(a,"SECTION",{id:!0,class:!0});var s=S(n);i=E(s,"H2",{class:!0});var c=S(i);r=I(c,d),f=C(c),m=E(c,"SMALL",{class:!0});var b=S(m);o=E(b,"A",{href:!0,target:!0,rel:!0});var A=S(o);u=I(A,"edit this section"),A.forEach(p),b.forEach(p),c.forEach(p),k=C(s),v=O(s),t=C(s),s.forEach(p),this.h()},h(){h(o,"href",_="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+l[10].file),h(o,"target","_blank"),h(o,"rel","nofollow"),h(m,"class","svelte-afxmpp"),h(i,"class","svelte-afxmpp"),v.a=t,h(n,"id",e=l[10].slug),h(n,"class","svelte-afxmpp")},m(a,s){L(a,n,s),w(n,i),w(i,r),w(i,f),w(i,m),w(m,o),w(o,u),w(n,k),v.m(g,n),w(n,t)},p(a,s){s&1&&d!==(d=a[10].metadata.title+"")&&J(r,d),s&1&&_!==(_="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+a[10].file)&&h(o,"href",_),s&1&&g!==(g=a[10].html+"")&&v.p(g),s&1&&e!==(e=a[10].slug)&&h(n,"id",e)},d(a){a&&p(n)}}}function $(l){let n,i,d,r,f,m,o,u,_;function k(e){l[3](e)}let v={sections:l[0]};l[2]!==void 0&&(v.activeGuideSection=l[2]),f=new Z({props:v}),T.push(()=>z(f,"activeGuideSection",k));let g=l[0],t=[];for(let e=0;e<g.length;e+=1)t[e]=B(q(l,g,e));return{c(){n=G("meta"),i=G("meta"),d=y(),r=G("sidebar"),N(f.$$.fragment),o=y(),u=G("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){const a=P('[data-svelte="svelte-133w6f"]',document.head);n=E(a,"META",{name:!0,content:!0}),i=E(a,"META",{name:!0,content:!0}),a.forEach(p),d=C(e),r=E(e,"SIDEBAR",{class:!0});var s=S(r);U(f.$$.fragment,s),s.forEach(p),o=C(e),u=E(e,"DIV",{id:!0,class:!0});var c=S(u);for(let b=0;b<t.length;b+=1)t[b].l(c);c.forEach(p),this.h()},h(){document.title="LayerCake - Guide",h(n,"name","og:title"),h(n,"content","Layer Cake \u2014 Guide"),h(i,"name","twitter:title"),h(i,"content","Layer Cake \u2014 Guide"),h(r,"class","svelte-afxmpp"),h(u,"id","container"),h(u,"class","content svelte-afxmpp")},m(e,a){w(document.head,n),w(document.head,i),L(e,d,a),L(e,r,a),V(f,r,null),L(e,o,a),L(e,u,a);for(let s=0;s<t.length;s+=1)t[s].m(u,null);l[4](u),_=!0},p(e,[a]){const s={};if(a&1&&(s.sections=e[0]),!m&&a&4&&(m=!0,s.activeGuideSection=e[2],Y(()=>m=!1)),f.$set(s),a&1){g=e[0];let c;for(c=0;c<g.length;c+=1){const b=q(e,g,c);t[c]?t[c].p(b,a):(t[c]=B(b),t[c].c(),t[c].m(u,null))}for(;c<t.length;c+=1)t[c].d(1);t.length=g.length}},i(e){_||(F(f.$$.fragment,e),_=!0)},o(e){K(f.$$.fragment,e),_=!1},d(e){p(n),p(i),e&&p(d),e&&p(r),Q(f),e&&p(o),e&&p(u),W(t,e),l[4](null)}}}async function ne({fetch:l}){const n=await l("guide.json"),i=await n.json();return n.status===200?{props:{sections:i}}:{status:n.status,error:new Error("Could not load.")}}function x(l,n,i){let{sections:d}=n,r,f=[],m="introduction",o,u=[];X(()=>{typeof window!="undefined"&&(u=r.querySelectorAll("[id]"),m=window.location.hash.slice(1),i(2,o=m),_(),k(),window.addEventListener("scroll",k,!0),window.addEventListener("resize",_,!0),setTimeout(_,1e3),setTimeout(_,5e3))});function _(){if(r){const{top:t}=r.getBoundingClientRect();f=[].map.call(u,e=>e.getBoundingClientRect().top-t)}}function k(){const t=-window.scrollY;let e=u.length;for(;e--;)if(f[e]+t<100){const a=u[e],{id:s}=a;s!==m&&(i(2,o=s),m=s);return}}function v(t){o=t,i(2,o)}function g(t){T[t?"unshift":"push"](()=>{r=t,i(1,r)})}return l.$$set=t=>{"sections"in t&&i(0,d=t.sections)},[d,r,o,v,g]}class se extends M{constructor(n){super();R(this,n,x,$,H,{sections:0})}}export{se as default,ne as load};
