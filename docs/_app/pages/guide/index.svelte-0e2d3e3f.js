import{S as W,i as X,s as Z,I as K,J as $,e as z,t as M,c as G,a as C,g as R,d as _,b as r,f as D,H as g,h as Q,k as H,ac as x,n as q,ad as ee,j as te,aa as le,m as se,o as ne,O as ae,x as ie,u as oe,v as ce,P as V,z as re}from"../../chunks/index-45abbae1.js";import{G as ue}from"../../chunks/GuideContents-f38720b7.js";function J(a,t,l){const u=a.slice();return u[10]=t[l],u}function N(a,t,l){const u=a.slice();return u[10]=t[l],u}function P(a){let t,l,u,o=a[10].slug.replace(/^\w/,F).replaceAll("-"," ")+"",f,h;return{c(){t=z("li"),l=z("a"),u=M("- "),f=M(o),this.h()},l(s){t=G(s,"LI",{});var i=C(t);l=G(i,"A",{href:!0,class:!0});var d=C(l);u=R(d,"- "),f=R(d,o),d.forEach(_),i.forEach(_),this.h()},h(){r(l,"href",h="#"+a[10].slug),r(l,"class","svelte-1w6jlzk")},m(s,i){D(s,t,i),g(t,l),g(l,u),g(l,f)},p(s,i){i&1&&o!==(o=s[10].slug.replace(/^\w/,F).replaceAll("-"," ")+"")&&Q(f,o),i&1&&h!==(h="#"+s[10].slug)&&r(l,"href",h)},d(s){s&&_(t)}}}function Y(a){let t,l,u=a[10].metadata.title+"",o,f,h,s,i,d,j,S,A=a[10].html+"",c,b;return{c(){t=z("section"),l=z("h2"),o=M(u),f=H(),h=z("small"),s=z("a"),i=M("edit this section"),j=H(),S=new x(!1),c=H(),this.h()},l(p){t=G(p,"SECTION",{id:!0,class:!0});var v=C(t);l=G(v,"H2",{class:!0});var y=C(l);o=R(y,u),f=q(y),h=G(y,"SMALL",{class:!0});var T=C(h);s=G(T,"A",{href:!0,target:!0,rel:!0,class:!0});var m=C(s);i=R(m,"edit this section"),m.forEach(_),T.forEach(_),y.forEach(_),j=q(v),S=ee(v,!1),c=q(v),v.forEach(_),this.h()},h(){r(s,"href",d="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+a[10].file),r(s,"target","_blank"),r(s,"rel","nofollow"),r(s,"class","svelte-1w6jlzk"),r(h,"class","svelte-1w6jlzk"),r(l,"class","svelte-1w6jlzk"),S.a=c,r(t,"id",b=a[10].slug),r(t,"class","svelte-1w6jlzk")},m(p,v){D(p,t,v),g(t,l),g(l,o),g(l,f),g(l,h),g(h,s),g(s,i),g(t,j),S.m(A,t),g(t,c)},p(p,v){v&1&&u!==(u=p[10].metadata.title+"")&&Q(o,u),v&1&&d!==(d="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+p[10].file)&&r(s,"href",d),v&1&&A!==(A=p[10].html+"")&&S.p(A),v&1&&b!==(b=p[10].slug)&&r(t,"id",b)},d(p){p&&_(t)}}}function de(a){let t,l,u,o,f,h,s,i,d,j,S,A,c,b,p;function v(e){a[3](e)}let y={sections:a[0]};a[2]!==void 0&&(y.activeGuideSection=a[2]),f=new ue({props:y}),K.push(()=>$(f,"activeGuideSection",v));let T=a[0],m=[];for(let e=0;e<T.length;e+=1)m[e]=P(N(a,T,e));let B=a[0],w=[];for(let e=0;e<B.length;e+=1)w[e]=Y(J(a,B,e));return{c(){t=z("meta"),l=z("meta"),u=H(),o=z("sidebar"),te(f.$$.fragment),s=H(),i=z("div"),d=z("div"),j=z("h3"),S=M("Table of contents"),A=H(),c=z("ul");for(let e=0;e<m.length;e+=1)m[e].c();b=H();for(let e=0;e<w.length;e+=1)w[e].c();this.h()},l(e){const k=le('[data-svelte="svelte-133w6f"]',document.head);t=G(k,"META",{name:!0,content:!0}),l=G(k,"META",{name:!0,content:!0}),k.forEach(_),u=q(e),o=G(e,"SIDEBAR",{class:!0});var E=C(o);se(f.$$.fragment,E),E.forEach(_),s=q(e),i=G(e,"DIV",{id:!0,class:!0});var n=C(i);d=G(n,"DIV",{id:!0,class:!0});var L=C(d);j=G(L,"H3",{class:!0});var U=C(j);S=R(U,"Table of contents"),U.forEach(_),A=q(L),c=G(L,"UL",{class:!0});var O=C(c);for(let I=0;I<m.length;I+=1)m[I].l(O);O.forEach(_),L.forEach(_),b=q(n);for(let I=0;I<w.length;I+=1)w[I].l(n);n.forEach(_),this.h()},h(){document.title="LayerCake - Guide",r(t,"name","og:title"),r(t,"content","Layer Cake \u2014 Guide"),r(l,"name","twitter:title"),r(l,"content","Layer Cake \u2014 Guide"),r(o,"class","svelte-1w6jlzk"),r(j,"class","svelte-1w6jlzk"),r(c,"class","svelte-1w6jlzk"),r(d,"id","toc"),r(d,"class","svelte-1w6jlzk"),r(i,"id","container"),r(i,"class","content svelte-1w6jlzk")},m(e,k){g(document.head,t),g(document.head,l),D(e,u,k),D(e,o,k),ne(f,o,null),D(e,s,k),D(e,i,k),g(i,d),g(d,j),g(j,S),g(d,A),g(d,c);for(let E=0;E<m.length;E+=1)m[E].m(c,null);g(i,b);for(let E=0;E<w.length;E+=1)w[E].m(i,null);a[4](i),p=!0},p(e,[k]){const E={};if(k&1&&(E.sections=e[0]),!h&&k&4&&(h=!0,E.activeGuideSection=e[2],ae(()=>h=!1)),f.$set(E),k&1){T=e[0];let n;for(n=0;n<T.length;n+=1){const L=N(e,T,n);m[n]?m[n].p(L,k):(m[n]=P(L),m[n].c(),m[n].m(c,null))}for(;n<m.length;n+=1)m[n].d(1);m.length=T.length}if(k&1){B=e[0];let n;for(n=0;n<B.length;n+=1){const L=J(e,B,n);w[n]?w[n].p(L,k):(w[n]=Y(L),w[n].c(),w[n].m(i,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=B.length}},i(e){p||(ie(f.$$.fragment,e),p=!0)},o(e){oe(f.$$.fragment,e),p=!1},d(e){_(t),_(l),e&&_(u),e&&_(o),ce(f),e&&_(s),e&&_(i),V(m,e),V(w,e),a[4](null)}}}const me=!0;async function ge({fetch:a}){const t=await a("guide.json"),l=await t.json();return t.status===200?{props:{sections:l}}:{status:t.status,error:new Error("Could not load.")}}const F=a=>a.toUpperCase();function fe(a,t,l){let{sections:u}=t,o,f=[],h="introduction",s,i=[];re(()=>{typeof window!="undefined"&&(i=o.querySelectorAll("[id]"),h=window.location.hash.slice(1),l(2,s=h),d(),j(),window.addEventListener("scroll",j,!0),window.addEventListener("resize",d,!0),setTimeout(d,1e3),setTimeout(d,5e3))});function d(){if(o){const{top:c}=o.getBoundingClientRect();f=[].map.call(i,b=>b.getBoundingClientRect().top-c)}}function j(){const c=-window.scrollY;let b=i.length;for(;b--;)if(f[b]+c<100){const p=i[b],{id:v}=p;v!==h&&(l(2,s=v),h=v);return}}function S(c){s=c,l(2,s)}function A(c){K[c?"unshift":"push"](()=>{o=c,l(1,o)})}return a.$$set=c=>{"sections"in c&&l(0,u=c.sections)},[u,o,s,S,A]}class ve extends W{constructor(t){super(),X(this,t,fe,de,Z,{sections:0})}}export{ve as default,ge as load,me as prerender};
