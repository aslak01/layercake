import{S as z,i as B,s as M,I as q,J as R,e as k,t as T,k as C,ac as D,c as G,a as S,g as I,n as L,d as p,ad as O,b as h,f as y,H as w,h as J,j as N,aa as P,m as U,o as V,O as Y,x as F,u as K,v as Q,P as W,z as X}from"../../chunks/index-45abbae1.js";import{G as Z}from"../../chunks/GuideContents-f38720b7.js";function H(l,n,i){const d=l.slice();return d[10]=n[i],d}function j(l){let n,i,d=l[10].metadata.title+"",c,f,m,o,u,_,E,v,g=l[10].html+"",t,e;return{c(){n=k("section"),i=k("h2"),c=T(d),f=C(),m=k("small"),o=k("a"),u=T("edit this section"),E=C(),v=new D(!1),t=C(),this.h()},l(a){n=G(a,"SECTION",{id:!0,class:!0});var s=S(n);i=G(s,"H2",{class:!0});var r=S(i);c=I(r,d),f=L(r),m=G(r,"SMALL",{class:!0});var b=S(m);o=G(b,"A",{href:!0,target:!0,rel:!0});var A=S(o);u=I(A,"edit this section"),A.forEach(p),b.forEach(p),r.forEach(p),E=L(s),v=O(s,!1),t=L(s),s.forEach(p),this.h()},h(){h(o,"href",_="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+l[10].file),h(o,"target","_blank"),h(o,"rel","nofollow"),h(m,"class","svelte-afxmpp"),h(i,"class","svelte-afxmpp"),v.a=t,h(n,"id",e=l[10].slug),h(n,"class","svelte-afxmpp")},m(a,s){y(a,n,s),w(n,i),w(i,c),w(i,f),w(i,m),w(m,o),w(o,u),w(n,E),v.m(g,n),w(n,t)},p(a,s){s&1&&d!==(d=a[10].metadata.title+"")&&J(c,d),s&1&&_!==(_="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+a[10].file)&&h(o,"href",_),s&1&&g!==(g=a[10].html+"")&&v.p(g),s&1&&e!==(e=a[10].slug)&&h(n,"id",e)},d(a){a&&p(n)}}}function $(l){let n,i,d,c,f,m,o,u,_;function E(e){l[3](e)}let v={sections:l[0]};l[2]!==void 0&&(v.activeGuideSection=l[2]),f=new Z({props:v}),q.push(()=>R(f,"activeGuideSection",E));let g=l[0],t=[];for(let e=0;e<g.length;e+=1)t[e]=j(H(l,g,e));return{c(){n=k("meta"),i=k("meta"),d=C(),c=k("sidebar"),N(f.$$.fragment),o=C(),u=k("div");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){const a=P('[data-svelte="svelte-133w6f"]',document.head);n=G(a,"META",{name:!0,content:!0}),i=G(a,"META",{name:!0,content:!0}),a.forEach(p),d=L(e),c=G(e,"SIDEBAR",{class:!0});var s=S(c);U(f.$$.fragment,s),s.forEach(p),o=L(e),u=G(e,"DIV",{id:!0,class:!0});var r=S(u);for(let b=0;b<t.length;b+=1)t[b].l(r);r.forEach(p),this.h()},h(){document.title="LayerCake - Guide",h(n,"name","og:title"),h(n,"content","Layer Cake \u2014 Guide"),h(i,"name","twitter:title"),h(i,"content","Layer Cake \u2014 Guide"),h(c,"class","svelte-afxmpp"),h(u,"id","container"),h(u,"class","content svelte-afxmpp")},m(e,a){w(document.head,n),w(document.head,i),y(e,d,a),y(e,c,a),V(f,c,null),y(e,o,a),y(e,u,a);for(let s=0;s<t.length;s+=1)t[s].m(u,null);l[4](u),_=!0},p(e,[a]){const s={};if(a&1&&(s.sections=e[0]),!m&&a&4&&(m=!0,s.activeGuideSection=e[2],Y(()=>m=!1)),f.$set(s),a&1){g=e[0];let r;for(r=0;r<g.length;r+=1){const b=H(e,g,r);t[r]?t[r].p(b,a):(t[r]=j(b),t[r].c(),t[r].m(u,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=g.length}},i(e){_||(F(f.$$.fragment,e),_=!0)},o(e){K(f.$$.fragment,e),_=!1},d(e){p(n),p(i),e&&p(d),e&&p(c),Q(f),e&&p(o),e&&p(u),W(t,e),l[4](null)}}}const ne=!0;async function se({fetch:l}){const n=await l("guide.json"),i=await n.json();return n.status===200?{props:{sections:i}}:{status:n.status,error:new Error("Could not load.")}}function x(l,n,i){let{sections:d}=n,c,f=[],m="introduction",o,u=[];X(()=>{typeof window!="undefined"&&(u=c.querySelectorAll("[id]"),m=window.location.hash.slice(1),i(2,o=m),_(),E(),window.addEventListener("scroll",E,!0),window.addEventListener("resize",_,!0),setTimeout(_,1e3),setTimeout(_,5e3))});function _(){if(c){const{top:t}=c.getBoundingClientRect();f=[].map.call(u,e=>e.getBoundingClientRect().top-t)}}function E(){const t=-window.scrollY;let e=u.length;for(;e--;)if(f[e]+t<100){const a=u[e],{id:s}=a;s!==m&&(i(2,o=s),m=s);return}}function v(t){o=t,i(2,o)}function g(t){q[t?"unshift":"push"](()=>{c=t,i(1,c)})}return l.$$set=t=>{"sections"in t&&i(0,d=t.sections)},[d,c,o,v,g]}class ae extends z{constructor(n){super(),B(this,n,x,$,M,{sections:0})}}export{ae as default,se as load,ne as prerender};
