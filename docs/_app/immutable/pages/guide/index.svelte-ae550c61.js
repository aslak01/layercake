import{S as W,i as X,s as Z,K as P,L as $,l as G,a as H,x,r as M,ac as ee,m as S,h as _,c as R,n as C,y as te,u as U,p as r,O as g,b as D,z as le,R as se,f as ne,t as ae,C as ie,T as V,k as oe,v as Q,ae as ce,af as re}from"../../chunks/index-ce1a03b6.js";import{G as ue}from"../../chunks/GuideContents-58cef88b.js";function K(s,t,l){const u=s.slice();return u[10]=t[l],u}function N(s,t,l){const u=s.slice();return u[10]=t[l],u}function Y(s){let t,l,u,o=s[10].slug.replace(/^\w/,J).replaceAll("-"," ")+"",f,h;return{c(){t=G("li"),l=G("a"),u=M("- "),f=M(o),this.h()},l(n){t=S(n,"LI",{});var i=C(t);l=S(i,"A",{href:!0,class:!0});var d=C(l);u=U(d,"- "),f=U(d,o),d.forEach(_),i.forEach(_),this.h()},h(){r(l,"href",h="#"+s[10].slug),r(l,"class","svelte-1w6jlzk")},m(n,i){D(n,t,i),g(t,l),g(l,u),g(l,f)},p(n,i){i&1&&o!==(o=n[10].slug.replace(/^\w/,J).replaceAll("-"," ")+"")&&Q(f,o),i&1&&h!==(h="#"+n[10].slug)&&r(l,"href",h)},d(n){n&&_(t)}}}function F(s){let t,l,u=s[10].metadata.title+"",o,f,h,n,i,d,z,j,L=s[10].html+"",c,b;return{c(){t=G("section"),l=G("h2"),o=M(u),f=H(),h=G("small"),n=G("a"),i=M("edit this section"),z=H(),j=new ce(!1),c=H(),this.h()},l(p){t=S(p,"SECTION",{id:!0,class:!0});var v=C(t);l=S(v,"H2",{class:!0});var y=C(l);o=U(y,u),f=R(y),h=S(y,"SMALL",{class:!0});var T=C(h);n=S(T,"A",{href:!0,target:!0,rel:!0,class:!0});var m=C(n);i=U(m,"edit this section"),m.forEach(_),T.forEach(_),y.forEach(_),z=R(v),j=re(v,!1),c=R(v),v.forEach(_),this.h()},h(){r(n,"href",d="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+s[10].file),r(n,"target","_blank"),r(n,"rel","nofollow"),r(n,"class","svelte-1w6jlzk"),r(h,"class","svelte-1w6jlzk"),r(l,"class","svelte-1w6jlzk"),j.a=c,r(t,"id",b=s[10].slug),r(t,"class","svelte-1w6jlzk")},m(p,v){D(p,t,v),g(t,l),g(l,o),g(l,f),g(l,h),g(h,n),g(n,i),g(t,z),j.m(L,t),g(t,c)},p(p,v){v&1&&u!==(u=p[10].metadata.title+"")&&Q(o,u),v&1&&d!==(d="https://github.com/mhkeller/layercake/edit/master/src/content/guide/"+p[10].file)&&r(n,"href",d),v&1&&L!==(L=p[10].html+"")&&j.p(L),v&1&&b!==(b=p[10].slug)&&r(t,"id",b)},d(p){p&&_(t)}}}function de(s){let t,l,u,o,f,h,n,i,d,z,j,L,c,b,p;function v(e){s[3](e)}let y={sections:s[0]};s[2]!==void 0&&(y.activeGuideSection=s[2]),f=new ue({props:y}),P.push(()=>$(f,"activeGuideSection",v,s[2]));let T=s[0],m=[];for(let e=0;e<T.length;e+=1)m[e]=Y(N(s,T,e));let B=s[0],w=[];for(let e=0;e<B.length;e+=1)w[e]=F(K(s,B,e));return{c(){t=G("meta"),l=G("meta"),u=H(),o=G("sidebar"),x(f.$$.fragment),n=H(),i=G("div"),d=G("div"),z=G("h3"),j=M("Table of contents"),L=H(),c=G("ul");for(let e=0;e<m.length;e+=1)m[e].c();b=H();for(let e=0;e<w.length;e+=1)w[e].c();this.h()},l(e){const k=ee("svelte-133w6f",document.head);t=S(k,"META",{name:!0,content:!0}),l=S(k,"META",{name:!0,content:!0}),k.forEach(_),u=R(e),o=S(e,"SIDEBAR",{class:!0});var E=C(o);te(f.$$.fragment,E),E.forEach(_),n=R(e),i=S(e,"DIV",{id:!0,class:!0});var a=C(i);d=S(a,"DIV",{id:!0,class:!0});var A=C(d);z=S(A,"H3",{class:!0});var q=C(z);j=U(q,"Table of contents"),q.forEach(_),L=R(A),c=S(A,"UL",{class:!0});var O=C(c);for(let I=0;I<m.length;I+=1)m[I].l(O);O.forEach(_),A.forEach(_),b=R(a);for(let I=0;I<w.length;I+=1)w[I].l(a);a.forEach(_),this.h()},h(){document.title="LayerCake - Guide",r(t,"name","og:title"),r(t,"content","Layer Cake \u2014 Guide"),r(l,"name","twitter:title"),r(l,"content","Layer Cake \u2014 Guide"),r(o,"class","svelte-1w6jlzk"),r(z,"class","svelte-1w6jlzk"),r(c,"class","svelte-1w6jlzk"),r(d,"id","toc"),r(d,"class","svelte-1w6jlzk"),r(i,"id","container"),r(i,"class","content svelte-1w6jlzk")},m(e,k){g(document.head,t),g(document.head,l),D(e,u,k),D(e,o,k),le(f,o,null),D(e,n,k),D(e,i,k),g(i,d),g(d,z),g(z,j),g(d,L),g(d,c);for(let E=0;E<m.length;E+=1)m[E].m(c,null);g(i,b);for(let E=0;E<w.length;E+=1)w[E].m(i,null);s[4](i),p=!0},p(e,[k]){const E={};if(k&1&&(E.sections=e[0]),!h&&k&4&&(h=!0,E.activeGuideSection=e[2],se(()=>h=!1)),f.$set(E),k&1){T=e[0];let a;for(a=0;a<T.length;a+=1){const A=N(e,T,a);m[a]?m[a].p(A,k):(m[a]=Y(A),m[a].c(),m[a].m(c,null))}for(;a<m.length;a+=1)m[a].d(1);m.length=T.length}if(k&1){B=e[0];let a;for(a=0;a<B.length;a+=1){const A=K(e,B,a);w[a]?w[a].p(A,k):(w[a]=F(A),w[a].c(),w[a].m(i,null))}for(;a<w.length;a+=1)w[a].d(1);w.length=B.length}},i(e){p||(ne(f.$$.fragment,e),p=!0)},o(e){ae(f.$$.fragment,e),p=!1},d(e){_(t),_(l),e&&_(u),e&&_(o),ie(f),e&&_(n),e&&_(i),V(m,e),V(w,e),s[4](null)}}}const me=!0;async function ge({fetch:s}){const t=await s("guide.json"),l=await t.json();return t.status===200?{props:{sections:l}}:{status:t.status,error:new Error("Could not load.")}}const J=s=>s.toUpperCase();function fe(s,t,l){let{sections:u}=t,o,f=[],h="introduction",n,i=[];oe(()=>{typeof window<"u"&&(i=o.querySelectorAll("[id]"),h=window.location.hash.slice(1),l(2,n=h),d(),z(),window.addEventListener("scroll",z,!0),window.addEventListener("resize",d,!0),setTimeout(d,1e3),setTimeout(d,5e3))});function d(){if(o){const{top:c}=o.getBoundingClientRect();f=[].map.call(i,b=>b.getBoundingClientRect().top-c)}}function z(){const c=-window.scrollY;let b=i.length;for(;b--;)if(f[b]+c<100){const p=i[b],{id:v}=p;v!==h&&(l(2,n=v),h=v);return}}function j(c){n=c,l(2,n)}function L(c){P[c?"unshift":"push"](()=>{o=c,l(1,o)})}return s.$$set=c=>{"sections"in c&&l(0,u=c.sections)},[u,o,n,j,L]}class ve extends W{constructor(t){super(),X(this,t,fe,de,Z,{sections:0})}}export{ve as default,ge as load,me as prerender};
