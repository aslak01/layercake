{"main":{"slug":"Scatter.canvas.svelte","contents":"<!--\n  @component\n  Generates a canvas scatter plot.\n -->\n<script>\n  import { getContext } from 'svelte';\n  import { scaleCanvas } from 'layercake';\n\n  const { data, xGet, yGet, width, height } = getContext('LayerCake');\n\n  const { ctx } = getContext('canvas');\n\n  /** @type {Number} [r=5] – The circle's radius. */\n  export let r = 5;\n\n  /** @type {String} [fill='#0cf'] – The circle's fill color. */\n  export let fill = '#0cf';\n\n  /** @type {String} [stroke='#000'] – The circle's stroke color. */\n  export let stroke = '#000';\n\n  /** @type {Number} [strokeWidth=1] – The circle's stroke width. */\n  export let strokeWidth = 1;\n\n  $: {\n    if ($ctx) {\n      /* --------------------------------------------\n       * If you were to have multiple canvas layers\n       * maybe for some artistic layering purposes\n       * put these reset functions in the first layer, not each one\n       * since they should only run once per update\n       */\n      scaleCanvas($ctx, $width, $height);\n      $ctx.clearRect(0, 0, $width, $height);\n\n      /* --------------------------------------------\n       * Draw our scatterplot\n       */\n      $data.forEach(d => {\n        $ctx.beginPath();\n        $ctx.arc($xGet(d), $yGet(d), r, 0, 2 * Math.PI, false);\n        $ctx.lineWidth = strokeWidth;\n        $ctx.strokeStyle = stroke;\n        $ctx.stroke();\n        $ctx.fillStyle = fill;\n        $ctx.fill();\n      });\n    }\n  }\n</script>"},"dek":"","usedIn":[{"group":"Regular","matches":["/example/Scatter"]},{"group":"SSR","matches":[]}],"hasjsDoctable":true,"jsdocParsed":{"description":"","tags":[{"title":"param","description":"– The circle's radius.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"r","default":"5"},{"title":"param","description":"– The circle's fill color.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"String"}},"name":"fill","default":"'#0cf'"},{"title":"param","description":"– The circle's stroke color.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"String"}},"name":"stroke","default":"'#000'"},{"title":"param","description":"– The circle's stroke width.","type":{"type":"OptionalType","expression":{"type":"NameExpression","name":"Number"}},"name":"strokeWidth","default":"1"}]},"componentDescription":"Generates a canvas scatter plot.","modules":[]}